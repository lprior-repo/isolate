[
  {
    "id": "zjj-jakw",
    "title": "P0-2d: Wrap StatusOutput in SchemaEnvelope",
    "description": "\u003e CONTEXT BLOCK:\n\u003e - **File/Function:** `crates/zjj/src/commands/status/formatting.rs:output_json()`\n\u003e - **The Smell:** \"StatusOutput serialized without envelope. Missing \\$schema field.\"\n\n\u003e SPECIFICATION BLOCK:\n\u003e 1. **EARS:**\n\u003e     - When status command outputs JSON, the system shall wrap in SchemaEnvelope with schema_type=\"single\"\n\u003e 2. **DbC:**\n\u003e     - **Preconditions:** SchemaEnvelope exists\n\u003e     - **Postconditions:** All status JSON wrapped\n\u003e 3. **TDD:**\n\u003e     - test_status_json_has_envelope\n\u003e     - test_status_schema_type_single\n\u003e 4. **Design by Type:**\n\u003e     ```rust\n\u003e     fn output_json(status: SessionStatus, metadata: StatusMetadata) {\n\u003e         let output = StatusOutput { name: metadata.name, status, ... };\n\u003e         let envelope = SchemaEnvelope::new(\"status-response\", \"single\", output);\n\u003e         println!(\"{}\", serde_json::to_string(\u0026envelope).unwrap());\n\u003e     }\n\u003e     ```\n\u003e 5. **Schema \u0026 Edge Cases:**\n\u003e     - EDGE 1: Session not found (error wrapped)\n\u003e 6. **Invariants/Variants:**\n\u003e     - INVARIANT: Envelope always present\n\u003e 7. **AI Review:**\n\u003e     - Coverage: status command only\n\u003e     - Dependencies: None",
    "status": "open",
    "priority": 0,
    "issue_type": "task",
    "owner": "priorlewis43@gmail.com",
    "created_at": "2026-01-25T08:26:25.452327415-06:00",
    "created_by": "Lewis Prior",
    "updated_at": "2026-01-25T08:26:25.452327415-06:00"
  }
]
