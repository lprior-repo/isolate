# Beads: Issue Tracking and Triage

Beads is a graph-aware issue tracking system. Use `bv` (beads triage engine) for intelligent prioritization.

## Creating Issues

### Basic Issue

```bash
# Feature
br add --title "Feature: implement X" --label feature

# Bug
br add --title "Bug: Y fails on Z" --label bug \
  --description "Steps: 1. Do X 2. See Y 3. Should see Z"

# With priority
br add --title "Feature: add validation" \
  --priority high \
  --label feature \
  --label "p0"
```

## Managing Issues

### List & Filter

```bash
br list                              # All open
br list --filter "status:open"       # Only open
br list --filter "assigned:me"       # My issues
br list --filter "label:feature"     # By label
br list --filter "priority:high"     # By priority
```

### Claiming Issues

```bash
br claim BD-123          # Start working
br claim BD-123 --show   # See details
```

### Updating Status

```bash
br resolve BD-123        # Mark ready for review
br complete BD-123       # Mark done
br unresolved BD-123     # Reopen
```

### Adding Dependencies

```bash
br link BD-123 BD-124    # BD-123 blocks BD-124
br unlink BD-123 BD-124  # Remove dependency
```

## Using `bv` for Triage

`bv` is your triage engine. It computes graph metrics and provides intelligent recommendations.

### Start Here: `bv --robot-triage`

```bash
bv --robot-triage
```

Returns in one call:
- `quick_ref` - At-a-glance summary with counts and top 3 picks
- `recommendations` - Ranked actionable items with scores and reasons
- `quick_wins` - Low-effort, high-impact tasks
- `blockers_to_clear` - Tasks that unblock most work
- `project_health` - Status/type distributions, graph metrics
- `commands` - Copy-paste shell commands for next steps

### Quick Next Steps

```bash
bv --robot-next    # Just the single top pick + claim command
```

### Graph Analysis

```bash
bv --robot-insights  # Full metrics:
                     # - PageRank (importance)
                     # - Betweenness (bottleneck)
                     # - Critical path (minimum time to completion)
                     # - Cycles (circular dependencies - must fix!)
                     # - K-core (dense subgroups)
```

## Best Practices

1. **Use `bv --robot-triage` daily** - Catches issues early
2. **Link dependencies** - Especially blockers
3. **Break cycles immediately** - Never ignore circular deps
4. **Use consistent labels** - For grouping and filtering

## Labels

```
epic       - Large feature (multiple issues)
feature    - New functionality
bug         - Something broken
chore       - Maintenance, refactoring, tooling
p0, p1, p2  - Priority (0=highest)
core        - Core functionality
testing     - Test-related
docs        - Documentation
```

## Integration with Workflow

1. **Create issue** → `br add ...`
2. **Claim issue** → `br claim BD-123`
3. **Isolate** → `zjj add <session>` or `zjj spawn BD-123`
4. **Work** → Edit files, commit with `jj describe`
5. **Verify** → `moon run :ci`
6. **Close** → `br complete BD-123` or `zjj done` (auto-closes)

All connected through Beads dependency graph and tracked by `bv`.

---

**Next**: [Jujutsu](09_JUJUTSU.md)
